<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>自适应大小触发JS (@media)</title>
</head>
<body>

<p>If the viewport is less than, or equal to, 767 pixels wide, the background color will be yellow. If it is greater than 767, it will change to pink.</p>
<p><strong>Resize the browser window to see the effect.</strong></p>

<script>
    //[注意]IE9-浏览器不支持，可以使用第三方函数库 https://github.com/paulirish/matchMedia.js/

    var screenSm = 768;
    var screenMd = 992;
    var screenLg = 1200;
    var screenXsMax = screenSm - 1;//767
    var screenSmMax = screenMd - 1;//991
    var screenMdMax = screenLg - 1;//1199

    function myFunction(x) {
        console.log(x)
        if (x.matches) { // If media query matches
            document.body.style.backgroundColor = "yellow";
            console.log(  screen1 + 'px >', window.innerWidth, x.matches);//0~766
        } else {
            document.body.style.backgroundColor = "pink";
            console.log(  screen1 + 'px <=', window.innerWidth, x.matches);//767~x
        }
    }

    var screen1 = screenXsMax;
    var x = window.matchMedia('(max-width: '+ screen1 +'px)')
    x.addListener(myFunction) // Attach listener function on state changes
    myFunction(x) // Call listener function at run time
    //x.removeListener(myFunction);
    
</script>

</body>
</html>
